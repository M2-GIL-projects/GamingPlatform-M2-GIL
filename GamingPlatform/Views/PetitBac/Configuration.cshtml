@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.HideHeader = true;
    ViewBag.HideFooter = true;
}

<div class="container py-5">
    <div class="text-center mb-5">
        <h1 class="display-4 fw-bold text-primary">
            <span role="img" aria-label="Game Controller">üéÆ</span> 
            Configuration de la Partie 
            <span role="img" aria-label="Sparkles">‚ú®</span>
        </h1>
        <p class="lead text-muted">
            <span role="img" aria-label="Custom Settings">‚öôÔ∏è</span> 
            Personnalisez votre jeu Petit Bac avec vos param√®tres pr√©f√©r√©s.
            <span role="img" aria-label="Smiley Face">üòä</span>
        </p>
    </div>
</div>
   <form method="post" asp-action="ConfigureGame" id="configureGameForm" class="p-4 shadow-lg rounded bg-light">
        <input type="hidden" name="LobbyId" value="@Model.LobbyId" />

        <!-- Pseudo du Cr√©ateur -->
        <div class="mb-4">
            <label for="CreatorPseudo" class="form-label">Pseudo du Cr√©ateur :</label>
            <input type="text" class="form-control bg-light" id="CreatorPseudo" name="CreatorPseudo" value="@Model.CreatorPseudo" readonly />
        </div>

        <!-- Nombre de Joueurs -->
        <div class="mb-4">
            <label for="PlayerCount" class="form-label">Nombre de Joueurs :</label>
            <input type="number" class="form-control" id="PlayerCount" name="PlayerCount" value="@Model.PlayerCount" min="2" required />
        </div>

        <!-- S√©lection des Lettres -->
        <div class="mb-4">
            <label class="form-label fw-bold">S√©lectionnez les Lettres :</label>
            <div class="d-flex flex-wrap gap-2">
                @foreach (var letter in "ABCDEFGHIJKLMNOPQRSTUVWXYZ")
                {
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="checkbox" id="letter_@letter" name="SelectedLetters" value="@letter" />
                        <label class="form-check-label" for="letter_@letter">@letter</label>
                    </div>
                }
            </div>
            <small class="text-danger d-none" id="lettersError">Vous devez s√©lectionner au moins une lettre.</small>
        </div>

        <!-- S√©lection des Cat√©gories -->
        <div class="mb-4">
            <label class="form-label fw-bold">S√©lectionnez les Cat√©gories :</label>
            <div class="row g-3">
                @{
                    int itemsPerColumn = 5;
                    int totalItems = Model.AvailableCategories.Count;
                    int totalColumns = (int)Math.Ceiling((double)totalItems / itemsPerColumn);

                    for (int columnIndex = 0; columnIndex < totalColumns; columnIndex++)
                    {
                        <div class="col-md-4">
                            @for (int i = columnIndex * itemsPerColumn; i < (columnIndex + 1) * itemsPerColumn && i < totalItems; i++)
                            {
                                <div class="form-check">
                                    <input class="form-check-input category-checkbox" type="checkbox" id="category_@i" name="SelectedCategories" value="@Model.AvailableCategories[i]" />
                                    <label class="form-check-label" for="category_@i">@Model.AvailableCategories[i]</label>
                                </div>
                            }
                        </div>
                    }
                }
            </div>
            <small class="text-danger d-none" id="categoryError">Vous devez s√©lectionner au moins 3 cat√©gories.</small>
        </div>

        <!-- Bouton de soumission -->
        <div class="d-flex justify-content-center">
            <button type="submit" class="btn btn-primary btn-lg px-5">
                <i class="bi bi-check-circle"></i> Valider
            </button>
        </div>
    </form>
</div>

<link rel="stylesheet" href="~/css/petitBac/ConfigurationStyle.css">
<script src="~/js/PetitBac/ConfigurationJs.js"></script>
